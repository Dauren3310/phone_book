(this.webpackJsonpphone_book=this.webpackJsonpphone_book||[]).push([[0],{55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},61:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},86:function(e,t,n){},87:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n(23),r=n.n(a),o=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,91)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))},s=n(8),i=n(17),l=n(20),j=n(44),u=n(46),h=n(7),d="START_REQUEST",b="CREATE_CONTACT_SUCCESS",O="SET_CONTACTS",p="SHOW_MODAL",x="SET_CONTACT_INFO",m={contacts:[],loading:!1,contactInfo:{},showModal:!1},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(h.a)(Object(h.a)({},e),{},{showModal:t.value});case d:return Object(h.a)(Object(h.a)({},e),{},{loading:!0});case x:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,contactInfo:t.contact});case O:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,contacts:t.contacts});case b:return Object(h.a)(Object(h.a)({},e),{},{loading:!1,contacts:[].concat(Object(u.a)(e.contacts),[t.contact])});default:return e}},v=n(6),g=(n(55),n(56),n(57),n(58),n(1)),y=function(e){return Object(g.jsx)("li",{className:"NavigationItem",children:Object(g.jsx)(i.b,{to:e.to,exact:e.exact,children:e.children})})},w=function(){return Object(g.jsx)("ul",{className:"NavigationItems",children:Object(g.jsx)(y,{to:"/add-new-contact",children:"Add new contact"})})},C=function(){return Object(g.jsxs)("header",{className:"Toolbar",children:[Object(g.jsx)("div",{children:Object(g.jsx)(i.b,{to:"/",exact:!0,className:"Logo",children:"Contacts"})}),Object(g.jsx)("nav",{children:Object(g.jsx)(w,{})})]})},N=(n(61),function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(C,{}),Object(g.jsx)("main",{className:"Layout-Content",children:e.children}),Object(g.jsx)("footer",{className:"footer",children:"Footer will be here"})]})}),k=n(89),E=function(e){var t=e.contact,n=e.showContactInfo;return Object(g.jsx)(k.a,{style:{cursor:"pointer"},className:"my-3",onClick:n,children:Object(g.jsxs)(k.a.Body,{className:"d-flex align-items-center",children:[Object(g.jsx)("img",{className:"mr-3",width:80,height:80,src:t.photo,alt:"preview"}),Object(g.jsx)(k.a.Text,{children:t.name})]})})},T=function(e){var t=e.contacts,n=e.showContactInfo;return Object(g.jsx)("div",{children:t.map((function(e){return Object(g.jsx)(E,{showContactInfo:function(){return n(e.id)},contact:e},e.id)}))})},S=n(14),I=n.n(S),L=n(18),F=n(45),P=n.n(F).a.create({baseURL:"https://training-64b34-default-rtdb.firebaseio.com/"}),_=function(){return{type:d}},q=function(e){return{type:p,value:e}},z=function(e){return{type:x,contact:e}},A=function(e){return{type:O,contacts:e}},G=function(){return function(){var e=Object(L.a)(I.a.mark((function e(t){var n,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_()),e.next=4,P.get("contacts.json");case 4:n=e.sent,c=Object.keys(n.data).map((function(e){return Object(h.a)(Object(h.a)({},n.data[e]),{},{id:e})})),t(A(c)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(L.a)(I.a.mark((function t(n){var c,a;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_()),t.next=4,P.get("contacts/".concat(e,".json"));case 4:c=t.sent,a=Object(h.a)(Object(h.a)({},c.data),{},{id:e}),n(z(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},D=(n(81),n(82),function(e){var t=e.show,n=e.clicked;return t?Object(g.jsx)("div",{onClick:n,className:"Backdrop"}):null}),M=function(e){var t=e.children,n=e.show,c=e.close;return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(D,{show:n,clicked:c}),Object(g.jsxs)("div",{className:"Modal",style:{transform:"translateY(".concat(n?0:"-200vh",")"),opacity:n?1:0},children:[Object(g.jsx)("button",{onClick:c,children:"X"}),t]})]})},H=(n(83),function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(D,{show:!0}),Object(g.jsx)("div",{className:"Spinner"})]})}),R=n(90),U=function(e){var t=e.contactInfo,n=e.deleteContact,c=e.goToEditForm,a=Object(g.jsx)("img",{style:{width:"100%"},src:t.photo,alt:"preview"});return Object(g.jsxs)("div",{children:[Object(g.jsxs)("div",{className:"d-flex mt-1",children:[Object(g.jsx)("div",{style:{width:200,minHeight:200},children:t.photo?a:null}),Object(g.jsxs)("div",{className:"ml-2",children:[Object(g.jsx)("h3",{children:t.name}),Object(g.jsxs)("div",{children:["Phone: ",Object(g.jsx)("a",{href:"tel:".concat(t.phone),children:t.phone})]}),Object(g.jsxs)("div",{children:["Email: ",Object(g.jsx)("a",{href:"email:".concat(t.email),children:t.email})]})]})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)(R.a,{className:"my-2 mr-2",variant:"warning",onClick:function(){return c(t.id)},children:"Edit"}),Object(g.jsx)(R.a,{className:"my-2 mr-2",variant:"danger",onClick:function(){return n(t.id)},children:"Delete"})]})]})},J=function(e){var t=Object(s.c)((function(e){return e.contacts})),n=Object(s.c)((function(e){return e.contactInfo})),a=Object(s.c)((function(e){return e.loading})),r=Object(s.c)((function(e){return e.showModal})),o=Object(s.b)();Object(c.useEffect)((function(){o(G())}),[o]);return Object(g.jsxs)("div",{className:"container",children:[Object(g.jsx)(M,{show:r,close:function(){o(q(!1))},children:Object(g.jsx)(U,{contactInfo:n,deleteContact:function(e){o(function(e){return function(){var t=Object(L.a)(I.a.mark((function t(n){return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(_()),t.next=4,P.delete("contacts/".concat(e,".json"));case 4:n(q(!1)),n(G()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(e))},goToEditForm:function(t){e.history.push("/contacts/".concat(t,"/edit-contact")),o(q(!1))}})}),a?Object(g.jsx)(H,{}):null,Object(g.jsx)(T,{contacts:t,showContactInfo:function(e){o(q(!0)),o(B(e))}})]})},Q=(n(84),n(16)),W=n(26),X=n(88),Y=function(e){var t=Object(c.useState)({name:"",phone:"",email:"",photo:""}),n=Object(W.a)(t,2),a=n[0],r=n[1],o=Object(s.c)((function(e){return e.loading})),i=Object(s.b)(),l=function(e){var t=e.target,n=t.name,c=t.value;r((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(Q.a)({},n,c))}))},j=Object(g.jsx)("img",{style:{width:"100%"},src:a.photo,alt:"preview"});return Object(g.jsxs)("div",{className:"container",children:[o?Object(g.jsx)(H,{}):null,Object(g.jsxs)(X.a,{onSubmit:function(t){var n;t.preventDefault(),i((n=a,function(){var e=Object(L.a)(I.a.mark((function e(t){var c,a;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_()),e.next=4,P.post("contacts.json",n);case 4:c=e.sent,a=Object(h.a)(Object(h.a)({},n),{},{id:c.data.name}),t({type:b,contact:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),e.history.push("/")},children:[Object(g.jsx)("h3",{children:"Add new contact"}),Object(g.jsxs)(X.a.Group,{children:[Object(g.jsx)(X.a.Label,{children:"Name"}),Object(g.jsx)(X.a.Control,{value:a.name,onChange:l,name:"name",required:!0,size:"sm",type:"text",placeholder:"Enter name"})]}),Object(g.jsxs)(X.a.Group,{children:[Object(g.jsx)(X.a.Label,{children:"Phone"}),Object(g.jsx)(X.a.Control,{value:a.phone,onChange:l,name:"phone",required:!0,size:"sm",type:"text",placeholder:"Enter phone"})]}),Object(g.jsxs)(X.a.Group,{children:[Object(g.jsx)(X.a.Label,{children:"Email"}),Object(g.jsx)(X.a.Control,{value:a.email,onChange:l,name:"email",required:!0,size:"sm",type:"text",placeholder:"Enter email"})]}),Object(g.jsxs)(X.a.Group,{children:[Object(g.jsx)(X.a.Label,{children:"Photo"}),Object(g.jsx)(X.a.Control,{value:a.photo,onChange:l,name:"photo",required:!0,size:"sm",type:"text",placeholder:"Enter photo"})]}),Object(g.jsx)("h5",{children:"Photo preview"}),Object(g.jsx)("div",{style:{width:200,minHeight:200},children:a.photo?j:null}),Object(g.jsx)(R.a,{className:"my-2 mr-2",type:"submit",variant:"success",children:"Save"}),Object(g.jsx)(R.a,{className:"my-2",variant:"danger",onClick:function(){return e.history.push("/")},children:"Back to contacts"})]})]})},K=function(e){var t=Object(c.useState)({name:"",phone:"",email:"",photo:""}),n=Object(W.a)(t,2),a=n[0],r=n[1],o=Object(s.c)((function(e){return e.loading})),i=Object(s.c)((function(e){return e.contactInfo})),l=Object(s.b)();Object(c.useEffect)((function(){l(B(e.match.params.id)),r(Object(h.a)({},i))}),[l,e.match.params.id]);var j=function(e){var t=e.target,n=t.name,c=t.value;r((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(Q.a)({},n,c))}))},u=Object(g.jsx)("img",{style:{width:"100%"},src:a.photo,alt:"preview"});return Object(g.jsxs)("div",{className:"container",children:[o?Object(g.jsx)(H,{}):null,Object(g.jsxs)(X.a,{onSubmit:function(t){var n;t.preventDefault(),l((n=a,function(){var e=Object(L.a)(I.a.mark((function e(t){var c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(_()),delete(c=Object(h.a)({},n)).id,e.next=6,P.put("contacts/".concat(n.id,".json"),c);case 6:t(G()),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),e.history.push("/")},children:[Object(g.jsx)("h3",{children:"Edit contact"}),Object(g.jsxs)(X.a.Group,{children:[Object(g.jsx)(X.a.Label,{children:"Name"}),Object(g.jsx)(X.a.Control,{value:a.name,onChange:j,name:"name",required:!0,size:"sm",type:"text",placeholder:"Enter name"})]}),Object(g.jsxs)(X.a.Group,{children:[Object(g.jsx)(X.a.Label,{children:"Phone"}),Object(g.jsx)(X.a.Control,{value:a.phone,onChange:j,name:"phone",required:!0,size:"sm",type:"text",placeholder:"Enter phone"})]}),Object(g.jsxs)(X.a.Group,{children:[Object(g.jsx)(X.a.Label,{children:"Email"}),Object(g.jsx)(X.a.Control,{value:a.email,onChange:j,name:"email",required:!0,size:"sm",type:"text",placeholder:"Enter email"})]}),Object(g.jsxs)(X.a.Group,{children:[Object(g.jsx)(X.a.Label,{children:"Photo"}),Object(g.jsx)(X.a.Control,{value:a.photo,onChange:j,name:"photo",required:!0,size:"sm",type:"text",placeholder:"Enter photo"})]}),Object(g.jsx)("h5",{children:"Photo preview"}),Object(g.jsx)("div",{style:{width:200,minHeight:200},children:a.photo?u:null}),Object(g.jsx)(R.a,{className:"my-2 mr-2",type:"submit",variant:"success",children:"Save"}),Object(g.jsx)(R.a,{className:"my-2",variant:"danger",onClick:function(){return e.history.push("/")},children:"Back to contacts"})]})]})},V=function(){return Object(g.jsx)(N,{children:Object(g.jsxs)(v.c,{children:[Object(g.jsx)(v.a,{path:["/","/phone_book"],exact:!0,component:J}),Object(g.jsx)(v.a,{path:"/add-new-contact",component:Y}),Object(g.jsx)(v.a,{path:"/contacts/:id/edit-contact",component:K}),Object(g.jsx)(v.a,{render:function(){return Object(g.jsx)("h1",{children:"Page not found"})}})]})})},Z=(n(86),Object(l.c)(f,Object(l.a)(j.a))),$=Object(g.jsx)(s.a,{store:Z,children:Object(g.jsx)(i.a,{children:Object(g.jsx)(V,{})})});r.a.render($,document.getElementById("root")),o()}},[[87,1,2]]]);
//# sourceMappingURL=main.b6b22cb6.chunk.js.map